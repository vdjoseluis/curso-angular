import{A as m,B as S,C as R,D as T,E as F,F as D,G as X,H as L,I as g,J as M,K as Y,L as Z,P as ee,R as te,S as ie,T as U,W as w,X as N,Z as ne,a as $,b as A,c as k,d as z,e as J,f as C,g as H,h as E,i as G,j as d,k as I,l as K,m as Q,n as B,o as a,p as h,q as p,r as c,s as o,t as n,u as l,v as W,w as b,x as v,y as P,z as r}from"./chunk-J7IWQLEI.js";var f=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountry:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(e){return this.http.get(e).pipe(k(()=>$([])),z(300))}searchCountryByCode(e){return this.http.get(`${this.apiUrl}/alpha/${e}`).pipe(A(i=>i.length>0?i[0]:null),k(()=>$(null)))}searchCapital(e){return this.getCountriesRequest(`${this.apiUrl}/capital/${e}`).pipe(C(i=>this.cacheStore.byCapital={term:e,countries:i}),C(()=>this.saveToLocalStorage()))}searchCountry(e){return this.getCountriesRequest(`${this.apiUrl}/name/${e}`).pipe(C(i=>this.cacheStore.byCountry={term:e,countries:i}),C(()=>this.saveToLocalStorage()))}searchRegion(e){return this.getCountriesRequest(`${this.apiUrl}/region/${e}`).pipe(C(i=>this.cacheStore.byRegion={region:e,countries:i}),C(()=>this.saveToLocalStorage()))}static{this.\u0275fac=function(i){return new(i||t)(G(Z))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var me=t=>["/countries/by",t];function pe(t,u){t&1&&(o(0,"div",2),r(1,` No hay pa\xEDses que mostrar
`),n())}function ue(t,u){if(t&1&&(o(0,"tr")(1,"th"),r(2),n(),o(3,"td"),r(4),n(),o(5,"td"),l(6,"img",5),n(),o(7,"td"),r(8),n(),o(9,"td"),r(10),n(),o(11,"td"),r(12),T(13,"number"),n(),o(14,"td")(15,"a",6),r(16,"Info"),n()()()),t&2){let e=u.$implicit,i=u.index;a(2),m(i+1),a(2),S(" ",e.fifa," "),a(2),c("src",e.flags.svg,B)("alt",e.name.common),a(2),m(e.name.common),a(2),m(e.capital),a(2),m(F(13,8,e.population)),a(3),c("routerLink",R(10,me,e.cca3))}}function de(t,u){if(t&1&&(o(0,"table",3)(1,"thead")(2,"tr")(3,"th"),r(4,"#"),n(),o(5,"th"),r(6,"C\xF3digo"),n(),o(7,"th"),r(8,"Bandera"),n(),o(9,"th"),r(10,"Nombre"),n(),o(11,"th"),r(12,"Capital"),n(),o(13,"th"),r(14,"Poblaci\xF3n"),n(),l(15,"th"),n()(),o(16,"tbody"),p(17,ue,17,12,"tr",4),n()()),t&2){let e=v();a(17),c("ngForOf",e.countries)}}var _=(()=>{class t{constructor(){this.countries=[]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=d({type:t,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(i,s){if(i&1&&p(0,pe,2,0,"div",1)(1,de,18,1,"ng-template",null,0,D),i&2){let y=P(2);c("ngIf",s.countries.length===0)("ngIfElse",y)}},dependencies:[L,g,ie,M],styles:["img[_ngcontent-%COMP%]{width:35px}"]})}}return t})();function fe(t,u){t&1&&l(0,"shared-loading-spinner")}var oe=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(e){this.isLoading=!0,this.countriesService.searchCapital(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||t)(h(f))}}static{this.\u0275cmp=d({type:t,selectors:[["app-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(i,s){i&1&&(o(0,"h3"),r(1,"Por Capital"),n(),l(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return s.searchByCapital(V)}),n()()(),o(6,"div",0)(7,"div",1),l(8,"hr"),p(9,fe,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),n()()),i&2&&(a(5),c("initialValue",s.initialValue),a(4),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[g,w,N,_]})}}return t})();function ye(t,u){t&1&&l(0,"shared-loading-spinner")}var re=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountry.countries,this.initialValue=this.countriesService.cacheStore.byCountry.term}searchByCountry(e){this.isLoading=!0,this.countriesService.searchCountry(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||t)(h(f))}}static{this.\u0275cmp=d({type:t,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(i,s){i&1&&(o(0,"h3"),r(1,"Por Pa\xEDs"),n(),l(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),b("onDebounce",function(V){return s.searchByCountry(V)}),n()()(),o(6,"div",0)(7,"div",1),l(8,"hr"),p(9,ye,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),n()()),i&2&&(a(5),c("initialValue",s.initialValue),a(4),c("ngIf",s.isLoading),a(),c("countries",s.countries))},dependencies:[g,w,N,_]})}}return t})();var Ce=t=>({"btn-outline-primary":t});function ve(t,u){if(t&1){let e=W();o(0,"button",4),b("click",function(){let s=K(e).$implicit,y=v();return Q(y.searchByRegion(s))}),r(1),n()}if(t&2){let e=u.$implicit,i=v();c("ngClass",R(2,Ce,e===i.selectedRegion)),a(),m(e)}}var ae=(()=>{class t{constructor(e){this.countriesService=e,this.countries=[],this.isLoading=!1,this.regions=["Africa","Americas","Asia","Europe","Oceania"]}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(e){this.isLoading=!0,this.selectedRegion=e,this.countriesService.searchRegion(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||t)(h(f))}}static{this.\u0275cmp=d({type:t,selectors:[["app-by-region-page"]],decls:10,vars:2,consts:[[1,"row"],[1,"col"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(i,s){i&1&&(o(0,"h3"),r(1,"Por Regi\xF3n"),n(),l(2,"hr"),o(3,"div",0)(4,"div",1),p(5,ve,2,4,"button",2),n()(),o(6,"div",0)(7,"div",1),l(8,"hr")(9,"countries-table",3),n()()),i&2&&(a(5),c("ngForOf",s.regions),a(4),c("countries",s.countries))},dependencies:[X,L,_]})}}return t})();function Se(t,u){t&1&&(o(0,"div",2),r(1,"Espere por favor..."),n())}function xe(t,u){if(t&1&&(o(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),r(4," Pa\xEDs: "),o(5,"strong"),r(6),n()()()(),o(7,"div",3)(8,"div",5)(9,"h3"),r(10,"Bandera"),n(),l(11,"img",6),n(),o(12,"div",7)(13,"h3"),r(14,"Informaci\xF3n"),n(),o(15,"ul",8)(16,"li",9)(17,"strong"),r(18,"Poblaci\xF3n: "),n(),r(19),T(20,"number"),n(),o(21,"li",9)(22,"strong"),r(23,"C\xF3digo: "),n(),r(24),n(),o(25,"li",9)(26,"strong"),r(27,"Capital: "),n(),r(28),n(),o(29,"li",9)(30,"strong"),r(31,"Continente: "),n(),r(32),n()()()(),o(33,"div",10)(34,"div",7)(35,"h3"),r(36,"Traducciones"),n(),o(37,"div",11)(38,"span",12),r(39),n(),o(40,"span",12),r(41),n(),o(42,"span",12),r(43),n(),o(44,"span",12),r(45),n(),o(46,"span",12),r(47),n(),o(48,"span",12),r(49),n()()()()()),t&2){let e=v();a(6),m(e.country.name.common),a(5),c("src",e.country.flags.svg,B)("alt",e.country.name.common),a(8),S("",F(20,13,e.country.population)," "),a(5),S("",e.country.cca3," "),a(4),S("",e.country.capital," "),a(4),S("",e.country.region," "),a(7),m(e.country.translations.spa.common),a(2),m(e.country.translations.kor.common),a(2),m(e.country.translations.fra.common),a(2),m(e.country.translations.ara.common),a(2),m(e.country.translations.deu.common),a(2),m(e.country.translations.ita.common)}}var se=(()=>{class t{constructor(e,i,s){this.activatedRoute=e,this.countriesService=i,this.router=s}ngOnInit(){this.activatedRoute.params.pipe(J(({id:e})=>this.countriesService.searchCountryByCode(e))).subscribe(e=>e?this.country=e:this.router.navigateByUrl(""))}static{this.\u0275fac=function(i){return new(i||t)(h(ee),h(f),h(te))}}static{this.\u0275cmp=d({type:t,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(i,s){if(i&1&&p(0,Se,2,0,"ng-template",null,0,D)(2,xe,50,15,"div",1),i&2){let y=P(1);a(2),c("ngIf",s.country)("ngIfElse",y)}},dependencies:[g,M]})}}return t})();var be=[{path:"by-capital",component:oe},{path:"by-country",component:re},{path:"by-region",component:ae},{path:"by/:id",component:se},{path:"**",redirectTo:"by-capital"}],ce=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=E({imports:[U.forChild(be),U]})}}return t})();var Qe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=E({imports:[Y,ce,ne]})}}return t})();export{Qe as CountriesModule};
